%% Computer Vision hw 7 q2-3

%% q2 a:
clear all; clc; close all;
addpath(genpath('./materials'));

txt = read_data('unknown_text.dat');
blackBox = zeros(size(txt));

figure(1); set(gcf, 'Position', [100, 100, 1100, 450]);
subplot(1,2,1);
imagesc(txt); colormap(gray(255));
subplot(1,2,2);
imagesc(blackBox); colormap(gca, 'jet'); hold on

letters = ['i', 'k', 'o', 'v', 'x'];
fileExtension = '_text.dat';


for l = letters
   file_name = sprintf('%s%s',l, fileExtension);
   letterImage = read_data(file_name);
   [Y, X] = findLetter(txt, letterImage);
   text(X, Y, l, 'Color', 'r', 'FontSize', 20);
end

hold off;



%% q2 b:



for l = letters
   file_name = sprintf('%s%s',l, fileExtension);
   letterImage = read_data(file_name);
   [Y, X] = findLetter(txt, letterImage);
   text(X, Y, l, 'Color', 'r', 'FontSize', 20);
end

% txt = read_data('unknown_text_s.dat');
% O = read_data('o_text.dat');
% cm = correlationMatrix(txt,O);
% cm (cm>=0.74) = 1;
% cm(cm<0.74) = 0;
% figure(2); set(gcf, 'Position', [100, 100, 1100, 450]);
% subplot(1,2,1);
% imagesc(txt); colormap(gray(255));
% subplot(1,2,2);
% imagesc(cm); colormap(gca, 'summer');


%% q3

X = [0 0
     1 0
     0 1
     1 1
     2 1
     1 2
     2 2
     3 2
     6 6
     6 7
     7 6
     7 7
     7 8
     8 6
     8 7
     8 8
     8 9
     9 7
     9 8
     9 9];
 
 
     
     
